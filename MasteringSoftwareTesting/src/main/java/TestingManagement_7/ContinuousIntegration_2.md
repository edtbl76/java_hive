# CI/CD (Continuous Integration/Continuous Deployment or Delivery)
- 1991 - Grady Booch
- Adopted as part of XP (Extreme Programming)

    
    Martin Fowler:
        
        Continuous Integration is a software development practice
        where members of a team integrate their work frequently, usually
        each person integrates AT LEAST DAILY - leading to multiple
        integrations per day. 

        Each integration is verified by an automated build (including
        test) to detect integration errors as quickly as possible. 


![CICD](/Users/Edward/IdeaProjects/edu/MasteringSoftwareTesting/src/main/resources/images/CICD.png)

### Components

#### Source Code Repo
- file archive to host the source code of our system. 
- usually uses a VCS (Version Control System)


- code is synchronized to a local dev environment where devs do
the coding. 
    - changes are committed to the remote repository on a daily
    basis.
    - frequent commits decreases the chances of 
    

##### Git
- Linus Torvalds. 
- the one most folks use
- Examples:
    - GitHub
    - GitLab
    - Bitbucket
    - SourceForge (Is this still a thing?)

#### Build/CI
- In CI, each commit should result in the execution of "build and test"
    - software is built/compiled, and unit tests exercise the code
    to ensure it is functionally sound. 
      
#### CDel vs. CDep
- Continuous Delivery
    - The software is DELIVERED
    - This takes the handoff from CI by taking the artifact 
    generated by the CI pipeline and automatically deploys the
    software to AN environment for further "X"    
        -  X may be testing environments for acceptance tests, 
        long running tests or various forms of NFRs


- Continuous Deployment
    - Based on successful navigation of pre-prod environments (i.e
      Continuous Delivery wins!) we deploy the software to its
      final resting place for consumption.

### DevOps
- collaboration process between operational and development focused
parts of an organization

## Tools

### Jenkins
- originally developed as Hudson 
    - Sun Microsystems, 2004
- open source build server
- plugin architecture
    - extensible, but also a pain in the ass
    
#### Jenkins Job
- runnable entity monitored by Jenkins

- Components of a Job
    - **SCM** - Source Code Management
        - URL to the SCR (usually git!)
    - **Build Trigger**
        - the mechanism used to kick off the build process
          - could be listening to changes to SCR, external scripts,etc. 
    - **Build Environment**
        - optional setup to prepare workspaces for builds, aborting
        stuck builds etc. 
    - **Collection of Steps in the jobs**
        - Maven/Gradle/Ant/shell scripts to execute build steps
        - followed by "post-build actions"
          - publishing test reports
          - archival of software artifact into an artifact repository
          - notifications

#### Jenkins Pipeline
- alternative job configuration that is a description of the build
workflow using "Pipeline DSL" (based on Groovy)
- uses a declarative "Jenkinsfile" that lives in the SCR
    - chain of stages composed of the build steps.
    

        EX:
        pipeline {
            agent any
            stages {
                stage('Build') {
                    steps {
                        sh 'make'
                    }
                }
                stage('Test') {
                    steps {
                        sh 'make check'
                        junit 'reports/**/*.xml'
                    }
                }
                stage('Deploy') {
                    steps {
                        sh 'make publish'
                    }
                }
            }
        }


